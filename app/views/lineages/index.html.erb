<p id="notice"><%= notice %></p>

<h1>Lineages</h1>

<table>
  <thead>
    <tr>
      <th>Member</th>
      <th>Father</th>
      <th>Son</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @lineages.each do |lineage| %>
      <tr>
        <td><%= link_to Member.where(id: lineage.member_id).last.fname, member_path(lineage.member_id)%></td>
        <td><%= 
          if Member.where(id: lineage.father).exists?
            link_to Member.where(id: lineage.father).last.fname, member_path(lineage.father)
          else
            "Tail"
          end 
        %></td>
        <td><%=
          if Member.where(id: lineage.son).exists?
            link_to Member.where(id: lineage.son).last.fname, member_path(lineage.son)
          else
            "Tail"
          end 
        %></td>
        <td><%= link_to 'Show', lineage %></td>
        <td><%= link_to 'Edit', edit_lineage_path(lineage) %></td>
        <td><%= link_to 'Destroy', lineage, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Lineage', new_lineage_path %>
